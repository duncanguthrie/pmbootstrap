# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=libcontactsdb
pkgver=0.5
pkgrel=8
pkgdesc="Library for accessing GPE contacts database"
url="https://wiki.postmarketos.org/wiki/GPE"
arch="all"
license="LGPL-2.0-or-later"
depends="atk cairo fontconfig freetype gdk-pixbuf glib gtk+2.0 pango sqlite2
	libgpepimc libgpewidget"
makedepends="sqlite2-dev 
	libgpepimc-dev libgpewidget-dev"
subpackages="$pkgname-dev"
source="http://http.debian.net/debian/pool/main/libc/${pkgname}/${pkgname}_${pkgver}.orig.tar.bz2
	01-config-sub.patch
	02-unresolved-symbols.patch
	03-install-sh.patch"
builddir="$srcdir/$pkgname-$pkgver"
options="!check"
build () {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}
package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="00675e0c79fd829533ebf56fcd4e92e5bdbdaedb9ff434eac2b5973804f81a93f6d66c1b686c6a8be4c87aa383ac64cb4f9d460e55130a397ab6d276e35d6fc5  libcontactsdb_0.5.orig.tar.bz2
5b7b4573aaed20e337efe5ed9dedf676c7d4d4bdea40667b599d37da27632ebb82a43eb2252dd0a3022f86e0badfedfa25def5ab638c15ad395b4a558e2e13f2  01-config-sub.patch
04e97ceb2ee744b4f7f161317dbc0238775d04a929f51067327a68dfb9d4bb1f22960d38f19727c842b6e60f7ca1eb991eae8b07f814129511d969883c4f12c7  02-unresolved-symbols.patch
0282d240b82defc466b8766ef264af63a8375ecc8d698a7cb55f8fd6646eda954eefcf126ed344806844e8cee8e8ecb1502bff2440af60caab30f78c56c31317  03-install-sh.patch"
