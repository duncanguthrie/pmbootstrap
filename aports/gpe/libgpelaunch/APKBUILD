# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=libgpelaunch
pkgver=0.14
pkgrel=0
pkgdesc="Helper library for launching programs for GPE Palmtop Environment"
url="https://wiki.postmarketos.org/wiki/GPE"
arch="all"
license="GPL-2.0"
depends="glib libx11 startup-notification"
makedepends="startup-notification-dev libgpewidget-dev"
source="http://http.debian.net/debian/pool/main/libg/${pkgname}/${pkgname}_${pkgver}.orig.tar.bz2
	01-install-sh.patch
	02-unresolved-symbols.patch"
builddir="${srcdir}/${pkgname}-${pkgver}"
options="!check"
subpackages="${pkgname}-dev"
prepare() {
	default_prepare
	update_config_sub
}
build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}
package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="d3177fbc54c1c72dc9453a4d54e4addde372106173c3310893d37cb016a69a857738e1f735dfb0ff38879dddf75356e34d7bbd98d4200ad4060cf2e3c40898da  libgpelaunch_0.14.orig.tar.bz2
744b49aabf40a2d534158e320ceef8c07c31e38f38d3ca094909d9b5f75fd0d91065cc8e8816d81aa08108363c7a47660283654b51151c79aa8472c25d69ab63  01-install-sh.patch
d43eb2cbb9ac5f6269df21bbee88a42dd040f2cfae26a7b46cf99960fd88e250c31c717cda81ad50e45c661043abafe084a4a8d58d986d4cf9a418dbe933b853  02-unresolved-symbols.patch"
