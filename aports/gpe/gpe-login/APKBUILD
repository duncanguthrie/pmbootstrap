# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=gpe-login
pkgver=0.95
pkgrel=0
pkgdesc="Login and lock screen for the GPE Palmtop Environment"
url="https://wiki.postmarketos.org/wiki/GPE"
arch="all"
license="GPL-2.0 LGPL-2.0"
depends="atk cairo fontconfig freetype gdk-pixbuf glib libgpewidget gtk+2.0 pango libx11"
makedepends="intltool autoconf automake libgpewidget-dev gpe-ownerinfo-dev"
source="http://http.debian.net/debian/pool/main/g/${pkgname}/${pkgname}_${pkgver}.orig.tar.bz2"
builddir="$srcdir/$pkgname-$pkgver"
options="!check"
subpackages="$pkgname-lang"
build() {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make LIBS="-lX11 -lgdk_pixbuf-2.0 -lgobject-2.0 -lglib-2.0 -lintl"
}
package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="08cb0ce201eb945f9675ac982fd333df3261750e05eba7569c4a3e3bb73923a467ea527c9e5dbc5a50d276b5b1288fcaeb777774b07dbf822a3e12961da32c5d  gpe-login_0.95.orig.tar.bz2"
