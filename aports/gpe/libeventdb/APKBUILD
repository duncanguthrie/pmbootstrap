# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=libeventdb
pkgver=0.90
pkgrel=5
pkgdesc="Library that provides access to GPE calendar data"
url="https://wiki.postmarketos.org/wiki/GPE"
arch="all"
license="GPL 2.0"
depends="glib sqlite musl-obstack"
makedepends="sqlite-dev libgpewidget-dev musl-obstack-dev"
subpackages="$pkgname-dev"
source="http://http.debian.net/debian/pool/main/libe/${pkgname}/${pkgname}_${pkgver}.orig.tar.gz
	01-config-sub.patch
	02-original-patches.patch
	03-stringformat.patch
	04-install-sh.patch"
builddir="$srcdir/$pkgname-$pkgver.orig"
options="!check"
build () {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}
package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
}
sha512sums="6e47a15830c8d7a93a5a92aa09c113d691436e322757c845bbea9a1a8cbdbed248503f18ccf02a095f6d7faab36b6cf5efa60613f31378a376aca4d993eed260  libeventdb_0.90.orig.tar.gz
14cbbc0a969a0a60486c1ff8ebae3e7bfdce1499c91b372ae542c83573d626a9ef7932c1b353b011f014355d4837217639c09578b39bf5c4ae0b48d042b15985  01-config-sub.patch
64ad4839f18d8519fbc777a98bf23a286eb98a28ec8b610cc72ffaa290a2203a571b5f78bafc18203a2bf11503d0678c111145b17dcbd7e36f1935f2b4781691  02-original-patches.patch
03bb0686335002970535329cc21a6477a4c1aeafad30c6acaed66541d2d2629aa7e9bc22401171fa08b22c1a55c910927e5359bd3bb9fad49ddde0eac4061afd  03-stringformat.patch
4f2e15d0acc67720b78edc36faa01212f5b1d900701c00cb244f18106058d85028eed138b172cc9f6ea9cfde91b433a3d5b73643bbfb18667490901f5638eeb0  04-install-sh.patch"
