# Contributor: Duncan Guthrie <dguthrie@posteo.net>
# Maintainer: Duncan Guthrie <dguthrie@posteo.net>
pkgname=libxsettings-client
pkgver=0.17
pkgrel=0
pkgdesc="Utility functions for the Xsettings protocol"
url="https://standards.freedesktop.org/xsettings-spec/0.5/"
arch="all"
license="GPL-2.0"
depends="libx11"
source="http://http.debian.net/debian/pool/main/libx/${pkgname}/${pkgname}_${pkgver}.orig.tar.gz
	config-sub.patch
	cflags.patch"
builddir="${srcdir}/${pkgname}-${pkgver}"
options="!check"
subpackages="$pkgname-doc"

build () {
	cd "$builddir"
	./configure \
		--build=$CBUILD \
		--host=$CHOST \
		--prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--localstatedir=/var
	make
}
package() {
	cd "$builddir"
	make DESTDIR="$pkgdir" install
	rm "$pkgdir"/usr/include/xsettings-common.h
}

sha512sums="2ea1f1d239fb17f37b2ec7689aca1a848b3faee8052b622f718f9bb0f3e7b174ae5d056c4d8a27ef526ade3e0ad155ebc73de6084b837d7cb5a93bb31f92bfa7  libxsettings-client_0.17.orig.tar.gz
dd71ee92b091e204f011f6b6103ff23775cbe361bd9c4e6a588ac246cf93f9fdda769a5a471a07e28a9fd0f8496f9233197d1164f6c3d52eab017db6fa327c76  config-sub.patch
37437f10442504da3e62b87b6dc19a8551794a5d88e244c40fe27e1f8818a3f03981a7c2477ade2574bdb3748f7a89ca2eb88583d781aae33613a50be7d044e9  cflags.patch"
